{% extends "layout.html" %}

{% block content %}
<div class="row justify-content-center my-4">
    <div class="col-md-10">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">
                    <i class="fas fa-shopping-cart me-2"></i>네이버 쇼핑 정보 입력 | Naver Shopping Data Entry
                </h2>
            </div>
            <div class="card-body">
                <p class="lead mb-4">네이버 쇼핑에 등록하기 위한 정보를 입력해주세요.<br>
                Please enter the information needed to register on Naver Shopping.</p>
                
                <form id="shoppingForm" action="{{ url_for('shopping') }}" method="post" novalidate>
                    <div class="row g-3">
                        <!-- Product Name -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="product_name" name="product_name" 
                                       placeholder="제품명 | Product Name" required
                                       value="{{ form_data.product_name if form_data else '' }}">
                                <label for="product_name">제품명 | Product Name *</label>
                                <div class="invalid-feedback">제품명을 입력해주세요. | Please enter a product name.</div>
                            </div>
                        </div>

                        <!-- Price -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="number" class="form-control" id="price" name="price" 
                                       placeholder="가격 | Price" required
                                       value="{{ form_data.price if form_data else '' }}">
                                <label for="price">가격 (KRW) | Price *</label>
                                <div class="invalid-feedback">유효한 가격을 입력해주세요. | Please enter a valid price.</div>
                            </div>
                        </div>

                        <!-- Category -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <select class="form-select" id="category" name="category" required>
                                    <option value="" disabled selected>카테고리를 선택하세요 | Select a category</option>
                                    <option value="패션의류" {{ 'selected' if form_data and form_data.category == '패션의류' else '' }}>패션의류 | Fashion Clothing</option>
                                    <option value="패션잡화" {{ 'selected' if form_data and form_data.category == '패션잡화' else '' }}>패션잡화 | Fashion Accessories</option>
                                    <option value="화장품/미용" {{ 'selected' if form_data and form_data.category == '화장품/미용' else '' }}>화장품/미용 | Cosmetics/Beauty</option>
                                    <option value="가구/인테리어" {{ 'selected' if form_data and form_data.category == '가구/인테리어' else '' }}>가구/인테리어 | Furniture/Interior</option>
                                    <option value="식품" {{ 'selected' if form_data and form_data.category == '식품' else '' }}>식품 | Food</option>
                                    <option value="생활/건강" {{ 'selected' if form_data and form_data.category == '생활/건강' else '' }}>생활/건강 | Lifestyle/Health</option>
                                    <option value="디지털/가전" {{ 'selected' if form_data and form_data.category == '디지털/가전' else '' }}>디지털/가전 | Digital/Appliances</option>
                                    <option value="스포츠/레저" {{ 'selected' if form_data and form_data.category == '스포츠/레저' else '' }}>스포츠/레저 | Sports/Leisure</option>
                                    <option value="도서/티켓/음반" {{ 'selected' if form_data and form_data.category == '도서/티켓/음반' else '' }}>도서/티켓/음반 | Books/Tickets/Music</option>
                                    <option value="기타" {{ 'selected' if form_data and form_data.category == '기타' else '' }}>기타 | Others</option>
                                </select>
                                <label for="category">카테고리 | Category *</label>
                                <div class="invalid-feedback">카테고리를 선택해주세요. | Please select a category.</div>
                            </div>
                        </div>

                        <!-- Brand -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="brand" name="brand" 
                                       placeholder="브랜드 | Brand"
                                       value="{{ form_data.brand if form_data else '' }}">
                                <label for="brand">브랜드 | Brand</label>
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="col-12">
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="description" name="description" 
                                          style="height: 120px" placeholder="제품 설명 | Product Description" required>{{ form_data.description if form_data else '' }}</textarea>
                                <label for="description">제품 설명 | Product Description *</label>
                                <div class="invalid-feedback">제품 설명을 입력해주세요. | Please enter a product description.</div>
                            </div>
                        </div>

                        <!-- Features -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="features" name="features" 
                                          style="height: 120px" placeholder="제품 특징 | Product Features">{{ form_data.features if form_data else '' }}</textarea>
                                <label for="features">제품 특징 | Product Features</label>
                                <small class="text-muted">각 특징을 새 줄에 입력하세요. | Enter each feature on a new line.</small>
                            </div>
                        </div>

                        <!-- Specifications -->
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="specifications" name="specifications" 
                                          style="height: 120px" placeholder="제품 사양 | Product Specifications">{{ form_data.specifications if form_data else '' }}</textarea>
                                <label for="specifications">제품 사양 | Product Specifications</label>
                                <small class="text-muted">각 사양을 "항목: 값" 형태로 새 줄에 입력하세요. | Enter each specification as "Item: Value" on a new line.</small>
                            </div>
                        </div>

                        <!-- Shipping Info -->
                        <div class="col-12">
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="shipping_info" name="shipping_info" 
                                          style="height: 100px" placeholder="배송 정보 | Shipping Information">{{ form_data.shipping_info if form_data else '' }}</textarea>
                                <label for="shipping_info">배송 정보 | Shipping Information</label>
                            </div>
                        </div>

                        <div class="col-12 d-flex justify-content-between mt-4">
                            <a href="{{ url_for('index') }}" class="btn btn-secondary">
                                <i class="fas fa-arrow-left me-2"></i>뒤로 | Back
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane me-2"></i>제출 | Submit
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-footer">
                <div class="text-muted">
                    <small>* 표시된 항목은 필수 입력 항목입니다. | Fields marked with * are required.</small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set up form validation for shopping form
        setupFormValidation('shoppingForm');
    });
</script>
{% endblock %}
